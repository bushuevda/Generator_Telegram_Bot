# Руководство пользователя
* [Установка библиотек](#установка-библиотек)
* [Команды приложения](#команды-приложения)
* [Настройки приложения](#настройки-приложения)
* [Заполнение базы данных (примеры)](#заполнение-базы-данных-примеры)
  * [Добавление меню](#добавление-меню)
  * [Добавление кнопок в меню](#добавление-кнопок-в-меню)
  * [Присвоение перехода для кнопки](#присвоение-перехода-для-кнопки)
  * [Присвоение перехода для кнопки](#присвоение-перехода-для-кнопки)
  * [Добавление ключевых слов для меню](#добавление-ключевых-слов-для-меню)
  * [Добавление информации для меню](#добавление-информации-для-меню)
  * [Добавление пользователей](#добавление-пользователей)
  * [Добавление анекдотов](#добавление-анекдотов)
* [Встроенные команды бота](#встроенные-команды-бота)
* [Панель администратора](#панель-администратора) 

## Установка библиотек:
`
pip install -r requirements.txt
`

[Список версий библиотек](../requirements.txt)

## Команды приложения

Запуск приложения:

`
python main.py
`

Создание и добавление информации в базу данных:

`
python main.py new_db new_database.db
`

Расширение названия базы данных должно быть .db.

## Настройки приложения
Настройки приложения находятся в файле [setting.json](../setting.json)
  - "NAME_DB" - название базы.
  - "BOT_TOKEN" - токен телеграм бота.
  - "WELCOME_MESSAGE" - сообщение приветствия бота.
  - "PASSWORD_REGISTRATION" - пароль для регистрации пользователя (если не задано, то генерируется случайное число).
## Заполнение базы данных (примеры)
### Добавление меню

Для создания меню необходимо добавить запись в таблицу [Menu](#таблица-menu).

##### Таблица Menu
| id_menu | name_menu     | id_template     |  id_type_menu | 
|---------|---------------|-----------------|---------------|  
| 1       | 1             | 1               |  1            |
| 1       | 1             | 2               |  2            |
| 1       | 1             | 1               |  1            |

Имя меню (name_menu) должно быть уникальным. Подробнее о id_template и id_type_menu смотрите в таблицах [Template](#таблица-template) и   [Type_Menu](#таблица-type_menu).

### Добавление кнопок в меню

Для добавления кнопок в меню необходимо добавить запись в таблицу [Button](#таблица-button). Затем необходимо связать id_menu ([Menu](#таблица-menu)) и id_button ([Button](#таблица-button)) посредством добавления записи в таблицу [List_Buttons](#таблица-list_buttons).

##### Таблица Button
| id_button     | name_button | callback_data | line | id_event |
|---------------|-------------|---------------|------|----------|
| 1             | button1     | callback1     | 1    | 1        |
| 2             | button2     | callback2     | 2    | 2        |
| 3             | button3     | callback3     | 1    | 3        |

Поле line определяет количество кнопок в ряду, при этом если в ряду 2 кнопки (вторая запись), то значение следующей записи (третья запись) игнорируется и выполняется переход на последующую запись. Подробнее о id_event смотрите в таблице [Event](#таблица-event).

##### Таблица List_Buttons
| id_list_buttons | id_menu     | id_button     |
|-----------------|-------------|---------------|
| 1               | 1           | 1             |
| 2               | 1           | 2             |
| 3               | 1           | 3             |

### Присвоение перехода для кнопки

Для того чтобы при нажатии на кнопку выполнялся переход в соответствующее меню необходимо добавить запись в таблицу ([List_Void_Menu](#таблица-list_void_menu)) с требуемыми id_menu ([Menu](#таблица-menu)) и id_button ([Button](#таблица-button)).

##### Таблица List_Void_Menu
| id_list_void_menu | id_menu     | id_button     |
|-------------------|-------------|---------------|
| 1                 | 1           | 1             |
| 2                 | 2           | 2             |
| 3                 | 3           | 3             |

### Добавление ключевых слов для меню

Таблица ([Key_Word](#таблица-key_word)) содержит все возможные ключевые слова, которые не повторяются (являются уникальными). Для связывания ключевого слова по которому будет выполняться переход в соответствующее меню необходимо добавить запись в таблицу ([List_Key_Words](#таблица-list_key_words)) с опредленными id меню и ключевого слова.

##### Таблица Key_Word
| id_key_word   | word      |
|---------------|-----------|
| 1             | key_word1 |
| 2             | key_word2 | 
| 3             | key_word3 |

##### Таблица List_Key_Words
| id_list_key_words | id_menu | id_key_word |
|-------------------|---------|-------------|
| 1                 | 1       | 1           |
| 2                 | 2       | 2           |
| 3                 | 3       | 3           |


### Добавление информации для меню
Таблица Information содержит различную информацию 
##### Таблица Information
| id_information | id_information |
|----------------|----------------|
| 1              | information1   |
| 2              | information2   | 
| 3              | information3   |

List_Information (Подробнее о id_template смотрите в таблице [Template](#таблица-template)

##### Таблица List_Information
| id_list_infromation | id_infromation | id_type_infromation |
|---------------------|----------------|---------------------|
| 1                   | 1              | 1                   |
| 2                   | 2              | 2                   |
| 3                   | 3              | 3                   |


### Добавление пользователей

##### Таблица User
| id_user | name_account | id_account |
|---------|--------------|------------|
| 1       | anecdote1    | 1424242646 |
| 2       | anecdote2    | 2545454454 |
| 3       | anecdote3    | 3663532232 |

##### Таблица List_Users
| id_list_users | id_user | id_category_users |
|---------------|---------|-------------------|
| 1             | 1       | 1                 |
| 2             | 2       | 2                 |
| 3             | 3       | 3                 |

### Добавление анекдотов

##### Таблица Anecdote
| id_anecdote | text_anecdote |
|-------------|---------------|
| 1           | anecdote1     |
| 2           | anecdote2     | 
| 3           | anecdote3     |

2. Связать добавленную кнопку с созданным меню:

3. Таблицы, которые необходимо оставить без изменения (они имеют встроенные данные):
   
 ##### Таблица Event
 | id_event | name_event               |  
 |----------|--------------------------|
 | 1        | Переход в другое меню    |
 | 2        | Смена изображения вперед |
 | 3        | Смена изображения назад  | 

 ##### Таблица Template:
 | id_template | name_template                |  
 |-------------|------------------------------|
 | 1           | Текст                        |
 | 2           | Текст с картинкой            |
 | 3           | Изменение текста с картинкой | 
 | 4           | Изменение текста             |
 | 5           | Текст с файлом               | 
 
 ##### Таблица Type_Information
 | id_type_information | name_type   |  
 |---------------------|-------------|
 | 1                   | Текст       |
 | 2                   | Изображение |
 | 3                   | Файл        | 

 ##### Таблица Type_Menu
 | id_type_menu | type_menu  |  
 |--------------|------------|
 | 1            | Reply      |
 | 2            | Inline     |

 ##### Таблица Category_Users
 | id_category_users | name_category |  
 |-------------------|---------------|
 | 1                 | Пользователь  |
 | 2                 | Администратор |
 | 3                 | Черный список | 

### Добавление кнопок reply
kjlkjl

## Встроенные команды бота:
 1. /start - начало работы с ботом (для любого пользователя).
 2. /registration - регистрация пользователя (для незарегистрированного пользователя, регистрация автоматическая - пользователю ничего не нужно вводить).
 3. /admin - панель администратора (только для администратора).

## Панель администратора

Администратор имеет следующие возможности:
- изменить категорию пользователя (необходимо будет ввести id аккаунта пользователя);
- изменить или посмотреть пароль регистрации пользователя;
- посмотреть пользователей любой категорий.




